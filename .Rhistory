library(dplyr)
use_mit_license()
usethis::use_mit_license()
library(xsarea)
devtools::load_all()
devtools::load_all()
xs_area(xs = "C:\\Users\\brownhr\\Desktop\\XS\\data/DS1XS1_1.xlsx")
xs_area(xs = readxl::read_xlsx("C:\\Users\\brownhr\\Desktop\\XS\\data/DS1XS1_1.xlsx"))
ds1 <- readxl::read_xlsx("C:\\Users\\brownhr\\Desktop\\XS\\data\\DS1XS1_1.xlsx")
ds1
xs_area(ds1)
?xs_area
?xs_area
xs_area <- function(xs){
# Mutate the InvertRod to be relative to Bankful;
# This can easily be appended to also calculate area relative to another
# feature, such as WS or whatever else.
# Set values of InvertRod > Bankful equal to Bankful, then normalize the
# whole dataset such that Bankful = 0 (baseline)
xs <- xs %>%
dplyr::mutate(Depth_Baseline = (pmin(xs$InvertRod, xs$Bankful) - xs$Bankful))?
# Approximate integration using trapezoidal rule with basepoints at x = xs$TAPE
area <- abs(pracma::trapz(x = xs$TAPE,
y = xs$Depth_Baseline))
return(area)
}
